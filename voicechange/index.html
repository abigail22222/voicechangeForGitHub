<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Song conversion model based on ddsp-svc</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.loli.net/css?family=Merriweather:900,900italic,300,300italic&subset=latin-ext"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.loli.net/css?family=Lato:900,300&subset=latin-ext"
      rel="stylesheet"
      type="text/css"
    />
  </head>

  <body>
    <main id="app" class="board">
      <nav class="main-menu">
        <h1>web ui</h1>
        <ul>
          <li class="nav-item" :class="navclassObj" @click="thisNav1">
            <b></b>
            <b></b>
            <a href="./info.html">
              <ion-icon
                name="bulb-outline"
                class="fa fa-house nav-icon"
              ></ion-icon>
              <span class="nav-text">è¯´æ˜</span>
            </a>
          </li>
          <li class="nav-item active">
            <b></b>
            <b></b>
            <a href="./index.html">
              <ion-icon
                name="hourglass-outline"
                class="fa fa-house nav-icon"
              ></ion-icon>
              <span class="nav-text">æ¨ç†</span>
            </a>
          </li>
        </ul>
      </nav>

      <section class="content">
        <div class="left-content">
          <div class="activities">
            <h1>é€‰æ‹©å¾…è½¬æ¢éŸ³é¢‘&nbsp;ğŸ“šè¯·å…ˆçœ‹è¯´æ˜å†æ“ä½œ</h1>
            <div class="activity-container">
              <div class="image-container img-one">
                <img src="img/guitar-blue.jpg" alt="upload file" />

                <div class="overlay">
                  <label for="file-upload" class="upload-container">
                    <div class="upload-text" id="upload-status">
                      ç‚¹å‡»æ­¤å¤„ä¸Šä¼ éŸ³é¢‘æ–‡ä»¶
                    </div>
                    <input
                      type="file"
                      id="file-upload"
                      class="upload-input"
                      name="sing"
                      @change="upload"
                    />
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      class="upload-icon"
                      id="upload-icon"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"
                      />
                    </svg>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      class="upload-icon-sec"
                      id="upload-icon-sec"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                      />
                    </svg>
                  </label>
                </div>
              </div>

              <div class="image-container img-two">
                <img src="img/path.jpg" alt="get file" />
                <div class="overlay">
                  <div class="download-container">
                    <div class="download-text">æ–‡ä»¶è·¯å¾„</div>
                    <div class="file_path-text">
                      <p>{{file_path}}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="left-bottom">
            <div class="schedule">
              <h1 class="popup-btn" @click="openPopup">Schedule&nbsp;ğŸ’¡</h1>
              <div class="options">
                <div class="step-and-activity activity-one">
                  <div class="step">
                    <h1>1</h1>
                    <p>split</p>
                  </div>
                  <div class="activity">
                    <h2>äººå£°åˆ†ç¦»</h2>
                    <div class="participants">
                      <img src="img/ts.jpg" style="--i: 1" alt="" />
                      <img src="img/tlp.jpg" style="--i: 2" alt="" />
                      <img src="img/tan.jpg" style="--i: 3" alt="" />
                      <img src="img/Justin-Bieber.jpg" style="--i: 4" alt="" />
                      <img src="img/adele.jpg" style="--i: 5" alt="" />
                    </div>
                  </div>
                  <button class="btn" @click="separate">start</button>
                </div>

                <div class="step-and-activity activity-two">
                  <div class="step">
                    <h1>2</h1>
                    <p>in</p>
                  </div>
                  <div class="activity">
                    <h2>å¼€å§‹è½¬æ¢</h2>
                    <div class="participants">
                      <img src="img/ts.jpg" style="--i: 1" alt="" />
                      <img src="img/adele.jpg" style="--i: 2" alt="" />
                    </div>
                  </div>
                  <button class="btn" @click="start_convert">start</button>
                </div>

                <div class="step-and-activity activity-four">
                  <div class="step">
                    <h1>4</h1>
                    <p>merge</p>
                  </div>
                  <div class="activity">
                    <h2>æ··éŸ³</h2>
                    <div class="participants">
                      <img src="img/ts.jpg" style="--i: 1" alt="" />
                      <img src="img/tlp.jpg" style="--i: 2" alt="" />
                      <img src="img/tan.jpg" style="--i: 3" alt="" />
                      <img src="img/Justin-Bieber.jpg" style="--i: 4" alt="" />
                      <img src="img/adele.jpg" style="--i: 5" alt="" />
                    </div>
                  </div>
                  <button class="btn">start</button>
                </div>
              </div>
            </div>
            <div class="personal-bests">
              <h1>Personal Bests</h1>
              <div class="personal-bests-container">
                <div class="best-item box-one">
                  <p>å˜è°ƒ</p>
                  <div class="slider-container">
                    <input
                      v-model="key"
                      :disabled="prohibited1"
                      type="range"
                      min="-12"
                      max="12"
                      class="slider"
                      id="mySlider"
                    />
                    <p class="clider-text">
                      Value: <span id="sliderValue">{{key}}</span>
                    </p>
                  </div>
                </div>
                <div class="best-item box-two">
                  <p>è¯´è¯äººid</p>
                  <div class="form__group u-margin-left-large">
                    <input
                      v-model="singerid"
                      :disabled="prohibited2"
                      type="text"
                      class="form__input"
                      placeholder="exp:taylor"
                      id="id"
                      required
                    />
                    <label for="id" class="form__label">è¯´è¯äººid</label>
                  </div>
                </div>
                <div class="best-item box-three">
                  <p>åŠ é€Ÿå€æ•°</p>
                  <div class="form__group u-margin-left-large">
                    <input
                      type="text"
                      class="form__input"
                      placeholder="è¯·å¡«å†™1-50çš„æ•´æ•°"
                      id="accelerate"
                      required
                    />
                    <label for="accelerate" class="form__label"
                      >è¯·å¡«å†™1-50çš„æ•´æ•°</label
                    >
                  </div>
                </div>
                <div class="best-item box-four">
                  <div class="true_or_false">
                    <p>åŸºé¢‘æ ¡å‡†</p>
                    <div class="form__group">
                      <div class="form__radio-group">
                        <input
                          type="radio"
                          class="form__radio-input"
                          id="small"
                          name="size"
                        />
                        <label for="small" class="form__radio-label">
                          <span class="form__radio-button"></span>T</label
                        >
                      </div>
                      <div class="form__radio-group">
                        <input
                          type="radio"
                          class="form__radio-input"
                          id="large"
                          name="size"
                        />
                        <label for="large" class="form__radio-label"
                          ><span class="form__radio-button"></span>F</label
                        >
                      </div>
                    </div>
                  </div>
                  <div class="true_or_false">
                    <p class="u-font-weight">USE_Diff</p>
                    <div class="form__group">
                      <div class="form__radio-group">
                        <input
                          type="radio"
                          class="form__radio-input"
                          id="small"
                          name="size"
                        />
                        <label for="small" class="form__radio-label">
                          <span class="form__radio-button"></span>T</label
                        >
                      </div>
                      <div class="form__radio-group">
                        <input
                          type="radio"
                          class="form__radio-input"
                          id="large"
                          name="size"
                        />
                        <label for="large" class="form__radio-label"
                          ><span class="form__radio-button"></span>F</label
                        >
                      </div>
                    </div>
                  </div>
                  <div class="true_or_false">
                    <p class="u-font-weight">USE GPU</p>
                    <div class="form__group">
                      <div class="form__radio-group">
                        <input
                          type="radio"
                          class="form__radio-input"
                          id="small"
                          name="size"
                        />
                        <label for="small" class="form__radio-label">
                          <span class="form__radio-button"></span>T</label
                        >
                      </div>
                      <div class="form__radio-group">
                        <input
                          type="radio"
                          class="form__radio-input"
                          id="large"
                          name="size"
                        />
                        <label for="large" class="form__radio-label"
                          ><span class="form__radio-button"></span>F</label
                        >
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="right-content">
          <div class="user-info">
            <h4>help and more</h4>
          </div>

          <div class="active-calories">
            <h1 style="align-self: flex-start">Progress Bar</h1>
            <div class="active-calories-container">
              <div class="box" style="--i: 85%">
                <div class="circle">
                  <h2>{{completion}}<small>%</small></h2>
                </div>
              </div>
              <div class="calories-content">
                <p><span>xxxæ–‡ä»¶ä¿¡æ¯:</span> 400</p>
                <p><span>someæ–‡ä»¶ä¿¡æ¯:</span> 3500</p>
                <p><span>ä¸€äº›æ–‡ä»¶ä¿¡æ¯:</span> 14000</p>
              </div>
            </div>
          </div>

          <div class="friends-activity">
            <h1>Sound Color 5ç§å¯é€‰éŸ³è‰²</h1>
            <div class="card-container">
              <div class="card">
                <div class="card-user-info">
                  <img src="img/tlp.jpg" alt="trump profile" />
                  <h2>Trump</h2>
                </div>
                <img
                  class="card-img"
                  src="img/tlp-large.jpg"
                  alt="trump when speeking"
                />
                <p>ç”¨å‰ç¾å›½æ€»ç»Ÿç‰¹æœ—æ™®çš„å£°éŸ³æ¥ç¿»å”±ä½ æƒ³è®©ä»–å”±çš„æ­Œ!ğŸ˜</p>
              </div>
              <div class="card card-two">
                <div class="card-user-info">
                  <img src="img/ts.jpg" alt="Taylor profile" />
                  <h2>Taylor Swift</h2>
                </div>
                <img
                  class="card-img"
                  src="img/ts-large-2.jpg"
                  alt="Taylor Swift"
                />
                <p>ç”¨ä¸–ç•Œå·¨æ˜Ÿæ³°å‹’Â·æ–¯å¨å¤«ç‰¹ç¾å¦™çš„å—“éŸ³ç¿»å”±ä½ æƒ³è®©å¥¹å”±çš„æ­Œ!ğŸ¥°</p>
              </div>
              <div class="card card-two">
                <div class="card-user-info">
                  <img src="img/Justin-Bieber.jpg" alt="Justin profile" />
                  <h2>Justin Bieber</h2>
                </div>
                <img
                  class="card-img"
                  src="img/Justin-Bieber-large.jpg"
                  alt="Justin Bieber"
                />
                <p>ç”¨ç¾å›½å”±å°†è´¾æ–¯æ±€Â·æ¯”ä¼¯çš„å£°éŸ³ç¿»å”±ä½ æƒ³è®©ä»–å”±çš„æ­Œ!ğŸ’ª</p>
              </div>
              <div class="card card-two">
                <div class="card-user-info">
                  <img src="img/adele.jpg" alt="Adele profile" />
                  <h2>Adele</h2>
                </div>
                <img class="card-img" src="img/Adele-large.jpg" alt="Adele" />
                <p>ç”¨å®ä¾‹åšå—“åŠ›é‡æ­Œæ‰‹é˜¿é»›å°”çš„ç‹¬ç‰¹å£°éŸ³ç¿»å”±ä½ æƒ³è®©å¥¹å”±çš„æ­Œ!ğŸ¤©</p>
              </div>
              <div class="card">
                <div class="card-user-info">
                  <img src="img/tan.jpg" alt="trump profile" />
                  <h2>ç»„å‘˜Â·è°­ç¾å§¿</h2>
                </div>
                <img
                  class="card-img"
                  src="img/tan-large.jpg"
                  alt="trump when speeking"
                />
                <p>ç”¨æˆ‘ä»¬æœåˆ›å°ç»„æˆå‘˜è°­ç¾å§¿çš„åŠ¨å¬å£°éŸ³ç¿»å”±ä½ æƒ³è®©å¥¹å”±çš„æ­Œ!ğŸƒâ€â™€ï¸ğŸ‰</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <div class="popup" :class="classObj">
        <div class="popup__content">
          <div class="popup__left">
            <img src="img/popup-1.jpg" alt="popup img 1" class="popup__img" />
            <img src="img/popup-2.jpg" alt="popup img 2" class="popup__img" />
          </div>
          <div class="popup__right">
            <ion-icon
              name="close-outline"
              class="popup__close"
              @click="closePopup"
            ></ion-icon>

            <h2 class="heading-secondary u-margin-bottom-small">
              Notes on Reasoning
            </h2>
            <h3 class="heading-tertiary u-margin-bottom-small">
              Important &ndash; Please read these terms before booking
            </h3>
            <p class="popup__text">
              Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quidem
              voluptas dignissimos, odit sapiente fuga hic. Dignissimos modi et
              officia nisi non delectus laborum similique, sint, qui excepturi
              alias magnam voluptatum. Lorem ipsum dolor sit amet consectetur
              adipisicing elit. Ab atque id vitae aliquid similique vel
              molestias autem repellat officiis iure optio, sapiente, cum
              assumenda laborum, facilis incidunt saepe cumque? Enim?Lorem ipsum
              dolor sit amet consectetur, adipisicing elit. Sint fuga eaque
              consequuntur, obcaecati recusandae, tenetur voluptates
              necessitatibus quos laudantium natus maxime illum corrupti
              repellat voluptatibus labore aliquid, nemo officiis! Beatae. Lorem
              ipsum dolor sit amet consectetur adipisicing elit.
            </p>
          </div>
        </div>
      </div>

      <!-- <div class="popup" :class="class2Obj">
        <div class="popup__content"></div>
      </div> -->
    </main>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script
    type="module"
    src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
  ></script>
  <script
    nomodule
    src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
  ></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="instance.js"></script>
  <script>
    const vm = new Vue({
      el: "#app",
      data() {
        return {
          file_path: "raw/example.wav",
          key: 0,
          singerid: "",
          completion: 85,
          classObj: {
            showus: false,
          },
          navclassObj: { active: false },
          prohibited1: false,
          prohibited2: false,
          isSeparatecpl: false,
        };
      },
      methods: {
        thisNav1() {
          this.navclassObj.active = true;
        },
        closePopup() {
          this.classObj.showus = false;
        },
        openPopup() {
          this.classObj.showus = true;
        },
        upload(e) {
          //   1.è·å–æ–‡ä»¶å¯¹è±¡
          let file = e.target.files[0];
          //å¦‚æœæ²¡æœ‰å¯¹è±¡ç›´æ¥è¿”å›  æµ‹è¯•è€…å¯èƒ½ç‚¹å‡»å–æ¶ˆä¸Šä¼ æ–‡ä»¶
          if (!file) {
            console.log("æ²¡è·å–åˆ°æ–‡ä»¶ï¼Œç»™ç”¨æˆ·æç¤º");
            alert("è¯·å…ˆé€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶");
            return;
          }
          // ...è¿™é‡Œå¯ä»¥åšå¯¹æ–‡ä»¶å¤§å°çš„é™åˆ¶ã€åç¼€åçš„é™åˆ¶çš„é€»è¾‘
          console.log("å·²ç»å–åˆ°æ–‡ä»¶ï¼Œå¹¶ä¸”å¤„ç†å®Œæˆ");
          //    2.ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨
          //  /sing
          let formData = new FormData();
          formData.append("sing", file);
          formData.append("name", file.name);
          console.log("æˆåŠŸæ‹¿åˆ°formDataåšè¯·æ±‚ä½“");
          instance
            .post("/sing", formData)
            .then((data) => {
              if (+data.code === 0) {
                alert("æ–‡ä»¶ä¸Šä¼ æˆåŠŸ");
                this.file_path = "æ–‡ä»¶å·²ä¸Šä¼ è‡³ï¼š" + data.servicePath;
                return;
              }
            })
            .catch((reason) => {
              alert("æ–‡ä»¶ä¸Šä¼ å¤±è´¥");
            });
        },
        separate() {
          //  /separate
          instance
            .get("/separate")
            .then((data) => {
              if (+data.code === 0) {
                alert("äººå£°åˆ†ç¦»å®Œæˆ");
                this.isSeparatecpl = true;
                return;
              }
            })
            .catch((reason) => {
              alert("äººå£°åˆ†ç¦»å¤±è´¥");
            });
        },
        start_convert() {
          if (this.singerid === "") {
            alert("è¯´è¯äººidæ˜¯å¿…å¡«é¡¹,è¯·å¡«å†™å®Œæˆåå†ç‚¹å‡»å¼€å§‹è½¬æ¢");
            return;
          } else if (this.isSeparatecpl === false) {
            alert("äººå£°åˆ†ç¦»è¿˜æœªå®Œæˆ");
            return;
          }
          //  /key
          let keyfd = new FormData();
          keyfd.append("key", this.key);
          console.log(`vueæˆåŠŸæ‹¿åˆ°key,å€¼ä¸º:${this.key}`);
          this.prohibited1 = true; //ç¦ç”¨è¡¨å•
          instance
            .post("/key", keyfd)
            .then((data) => {
              if (+data.code === 0) {
                alert("åå°æˆåŠŸè·å–keyå€¼");
                return;
              }
            })
            .catch((reason) => {
              console.log(reason.message);
              alert(`è·å–keyå€¼å¤±è´¥,å¯èƒ½çš„åŸå› æ˜¯${reason.message}`);
            });

          //  /id  è¿™ä¸ªæ˜¯å¿…å¡«
          let idfd = new FormData();
          idfd.append("id", this.singerid);
          console.log(`vueæˆåŠŸæ‹¿åˆ°singerid,å€¼ä¸º:${this.singerid}`);
          this.prohibited2 = true; //ç¦ç”¨è¡¨å•
          instance
            .post("/id", idfd)
            .then((data) => {
              if (+data.code === 0) {
                alert("åå°æˆåŠŸè·å–idå€¼");
                return;
              }
            })
            .catch((reason) => {
              console.log(reason.message);
              alert(`è·å–keyå€¼å¤±è´¥,å¯èƒ½çš„åŸå› æ˜¯${reason.message}`);
            });
          //  /speedup
          //  /f0_adjust
          //  /use_GPU
          //  /use_diff
        },
      },
    });

    // const upload_input = document.querySelector(".upload-input");
    // //input change äº‹ä»¶ç›‘å¬
    // upload_input.addEventListener("change", function () {
    //   // document.getElementById("upload-status").innerText = "ä¸Šä¼ æˆåŠŸ";
    //   // document.getElementById("upload-icon-sec").style.display = "inline-block"; // æ˜¾ç¤ºæˆåŠŸå›¾æ ‡
    //   // document.getElementById("upload-icon").style.display = "none";
    // });
  </script>
</html>
